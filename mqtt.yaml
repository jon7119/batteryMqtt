  sensor:
    # üîã Battery Information
    - name: "StorCube Battery Status"
      state_topic: "battery/outputEquip"
      value_template: "{{ 'online' if value_json[0].workStatus == 1 else 'offline' }}"
      icon: "mdi:battery"

  - name: "StorCube Battery Capacity"
    state_topic: "battery/reportEquip"
    value_template: "{{ value_json.totalCapacity }}"
    unit_of_measurement: "Wh"
    device_class: "battery"
    state_class: "measurement"
    icon: "mdi:battery-high"

  - name: "StorCube Battery SOC"
    state_topic: "battery/reportEquip"
    value_template: "{{ value_json.list[0].soc }}"
    unit_of_measurement: "%"
    device_class: "battery"
    state_class: "measurement"
    icon: "mdi:battery-charging"

  - name: "StorCube Battery Temperature"
    state_topic: "battery/reportEquip"
    value_template: "{{ value_json.list[0].temp }}"
    unit_of_measurement: "¬∞C"
    device_class: "temperature"
    state_class: "measurement"
    icon: "mdi:thermometer"

  # ‚òÄÔ∏è Solar Panel Information
  - name: "StorCube PV1 Power"
    state_topic: "battery/reportEquip"
    value_template: "{{ value_json.list[0].pv1power }}"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:solar-power"

  - name: "StorCube PV2 Power"
    state_topic: "battery/reportEquip"
    value_template: "{{ value_json.list[0].pv2power }}"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:solar-power"

  - name: "StorCube Total Solar Power"
    state_topic: "battery/reportEquip"
    value_template: "{{ (value_json.totalPv1power | float) + (value_json.totalPv2power | float) }}"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:solar-power"

  # ‚ö° Inverter & Grid Information
  - name: "StorCube Inverter Power"
    state_topic: "battery/reportEquip"
    value_template: "{{ value_json.list[0].invPower }}"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:power"

  - name: "StorCube Plug Power"
    state_topic: "battery/reportEquip"
    value_template: "{{ value_json.plugPower }}"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:power-plug"

  # üîß Equipment Information
  - name: "StorCube Main Equip ID"
    state_topic: "battery/reportEquip"
    value_template: "{{ value_json.mainEquipId }}"
    icon: "mdi:identifier"

  - name: "StorCube Equip ID"
    state_topic: "battery/reportEquip"
    value_template: "{{ value_json.list[0].equipId }}"
    icon: "mdi:identifier"

  - name: "StorCube Is Working"
    state_topic: "battery/reportEquip"
    value_template: "{{ value_json.list[0].isWork }}"
    icon: "mdi:cog"

  - name: "StorCube Seuil d√©charge"
    state_topic: "battery/outputEquip"
    value_template: "{{ value_json[0].reserved }}"
    unit_of_measurement: "%"
    icon: "mdi:battery"
